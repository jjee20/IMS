<Page
    x:Class="RavenTech_ThinkEE.Views.ExamDetailPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:models="using:RavenTech_ThinkEE.Core.Models" xmlns:models1="using:DomainLayer.Models.ThinkEE"
    mc:Ignorable="d">

    <Grid x:Name="ContentArea">
        <ScrollViewer
            IsTabStop="True">
            <StackPanel x:Name="contentPanel" Margin="40" MaxWidth="900" HorizontalAlignment="Center" Spacing="18">
                <Border Background="#FFF7E1" CornerRadius="8" Padding="32">
                    <StackPanel>
                        <TextBlock
                    Text="{Binding CurrentQuestionDisplay, Mode=OneWay}"
                    Foreground="Black"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,20"
                    FontWeight="Bold" FontSize="17"/>
                        <TextBlock
                    Text="{Binding CurrentQuestion.Text, Mode=OneWay}"
                    FontSize="18"
                    TextWrapping="Wrap"
                    Margin="0,0,0,24"
                    TextAlignment="Center"/>

                        <ItemsControl ItemsSource="{Binding CurrentQuestion.Choices, Mode=OneWay}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate x:DataType="models1:Choice">
                                    <StackPanel Orientation="Horizontal" Margin="18,4">
                                        <!-- Choice letter (a/b/c/d) from index, for simplicity just bind Text here -->
                                        <RadioButton
                                    Content="{Binding Text}"
                                    IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                    FontSize="16"
                                    Margin="0,0,0,0"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- Navigation Controls -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="8">
                    <Button Content="Previous" Click="Previous_Click" IsEnabled="{Binding CurrentQuestionIndex}" />
                    <TextBox Text="{Binding CurrentQuestionIndexDisplay, Mode=OneWay}" FontSize="16" Margin="6,0"/>
                    <Button Content="Next" Click="Next_Click" IsEnabled="{Binding HasNextQuestion, Mode=OneWay}" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
